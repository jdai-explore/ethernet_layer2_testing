# TC8 Layer 2 Automotive Ethernet ECU Test Framework

> **OPEN Alliance TC8 v3.0 Conformance Testing â€” Python/Scapy**

A modular, open-architecture test framework for validating Layer 2 switching behavior of automotive Ethernet ECUs against the [OPEN Alliance TC8 Automotive Ethernet ECU Test Specification â€” Layer 2, v3.0](https://opensig.org/).

## ğŸ“‹ Coverage

| Section | Topic | Specs | Status |
|---------|-------|-------|--------|
| 5.3 | VLAN Testing | 21 | ğŸŸ¡ In Progress |
| 5.4 | General | 10 | ğŸŸ¡ In Progress |
| 5.5 | Address Learning | 21 | ğŸŸ¡ In Progress |
| 5.6 | Filtering | 11 | â¬œ Planned |
| 5.7 | Time Synchronization | 1 | â¬œ Planned |
| 5.8 | Quality of Service | 4 | â¬œ Planned |
| 5.9 | Configuration | 3 | â¬œ Planned |
| **Total** | | **71** | |

## ğŸš€ Quick Start

```bash
# 1. Install dependencies
pip install -r requirements.txt

# 2. List available test specifications
tc8-run list-specs

# 3. Run smoke tests with example DUT profile
tc8-run run --dut config/dut_profiles/example_ecu.yaml --tier smoke

# 4. Start web UI
uvicorn web.backend.main:app --reload --port 8000
```

## ğŸ—ï¸ Architecture

```
tc8-l2-test-framework/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # Test runner, config manager, session manager
â”‚   â”œâ”€â”€ specs/          # Test specification implementations
â”‚   â”œâ”€â”€ interface/      # DUT communication (Scapy, raw socket, TCP)
â”‚   â”œâ”€â”€ utils/          # Frame builder, timing, sampling, validators
â”‚   â””â”€â”€ models/         # Pydantic data models
â”œâ”€â”€ web/                # FastAPI backend + Web UI
â”œâ”€â”€ config/             # YAML configurations & DUT profiles
â”œâ”€â”€ data/               # Data-driven spec definitions (YAML)
â”œâ”€â”€ tests/              # Framework self-tests
â”œâ”€â”€ reports/            # Generated test reports
â””â”€â”€ docs/               # Documentation
```

## âš™ï¸ Test Tiers

| Tier | Duration | Purpose |
|------|----------|---------|
| **Smoke** | ~1 hour | Quick validation â€” 3 core specs, sampled VIDs |
| **Core** | ~8 hours | Core functionality â€” 52 specs, representative samples |
| **Full** | 40+ hours | Full regression â€” all 71 specs, all VIDs |

## ğŸ”Œ DUT Interface

The framework uses a pluggable interface layer for DUT communication:

- **Scapy** (default) â€” Standard packet crafting via `sendp`/`sniff`
- **Raw Socket** â€” Linux `AF_PACKET` for performance-sensitive tests
- **TCP Stub** â€” Remote DUT access over network
- **USB** â€” USB-Ethernet adapter for portable setups

## ğŸ“– API Documentation

Start the web server and visit `http://localhost:8000/docs` for interactive API documentation (auto-generated by FastAPI).

## ğŸ“„ License

MIT
